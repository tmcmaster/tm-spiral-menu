define(["exports"],function(_exports){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=void 0;var _Mathabs=Math.abs,pi=Math.PI,tau=2*pi,epsilon=1e-6;function Path(){this._x0=this._y0=this._x1=this._y1=null;this._=[]}function path(){return new Path}Path.prototype=path.prototype={constructor:Path,moveTo:function(x,y){this._.push("M",this._x0=this._x1=+x,",",this._y0=this._y1=+y)},closePath:function(){if(null!==this._x1){this._x1=this._x0,this._y1=this._y0;this._.push("Z")}},lineTo:function(x,y){this._.push("L",this._x1=+x,",",this._y1=+y)},quadraticCurveTo:function(x1,y1,x,y){this._.push("Q",+x1,",",+y1,",",this._x1=+x,",",this._y1=+y)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._.push("C",+x1,",",+y1,",",+x2,",",+y2,",",this._x1=+x,",",this._y1=+y)},arcTo:function(x1,y1,x2,y2,r){var _Mathsqrt=Math.sqrt;x1=+x1,y1=+y1,x2=+x2,y2=+y2,r=+r;var x0=this._x1,y0=this._y1,x21=x2-x1,y21=y2-y1,x01=x0-x1,y01=y0-y1,l01_2=x01*x01+y01*y01;if(0>r)throw new Error("negative radius: "+r);if(null===this._x1){this._.push("M",this._x1=x1,",",this._y1=y1)}else if(!(l01_2>epsilon));else if(!(_Mathabs(y01*x21-y21*x01)>epsilon)||!r){this._.push("L",this._x1=x1,",",this._y1=y1)}else{var x20=x2-x0,y20=y2-y0,l21_2=x21*x21+y21*y21,l21=_Mathsqrt(l21_2),l01=_Mathsqrt(l01_2),l=r*Math.tan((pi-Math.acos((l21_2+l01_2-(x20*x20+y20*y20))/(2*l21*l01)))/2),t01=l/l01,t21=l/l21;if(_Mathabs(t01-1)>epsilon){this._.push("L",x1+t01*x01,",",y1+t01*y01)}this._.push("A",r,",",r,",0,0,",+(y01*x20>x01*y20),",",this._x1=x1+t21*x21,",",this._y1=y1+t21*y21)}},arc:function(x,y,r,a0,a1,ccw){var _Mathsin=Math.sin,_Mathcos=Math.cos;x=+x,y=+y,r=+r;var dx=r*_Mathcos(a0),dy=r*_Mathsin(a0),x0=x+dx,y0=y+dy,cw=1^ccw,da=ccw?a0-a1:a1-a0;if(0>r)throw new Error("negative radius: "+r);if(null===this._x1){this._.push("M",x0,",",y0)}else if(_Mathabs(this._x1-x0)>epsilon||_Mathabs(this._y1-y0)>epsilon){this._.push("L",x0,",",y0)}if(!r)return;if(da>tau-epsilon){this._.push("A",r,",",r,",0,1,",cw,",",x-dx,",",y-dy,"A",r,",",r,",0,1,",cw,",",this._x1=x0,",",this._y1=y0)}else{if(0>da)da=da%tau+tau;this._.push("A",r,",",r,",0,",+(da>=pi),",",cw,",",this._x1=x+r*_Mathcos(a1),",",this._y1=y+r*_Mathsin(a1))}},rect:function(x,y,w,h){this._.push("M",this._x0=this._x1=+x,",",this._y0=this._y1=+y,"h",+w,"v",+h,"h",-w,"Z")},toString:function(){return this._.join("")}};_exports.default=path});