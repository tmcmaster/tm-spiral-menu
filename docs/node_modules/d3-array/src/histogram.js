define(["exports","./array.js","./bisect.js","./constant.js","./extent.js","./identity.js","./ticks.js","./threshold/sturges.js"],function(_exports,_array,_bisect,_constant,_extent,_identity,_ticks,_sturges){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=_default;_bisect=babelHelpers.interopRequireDefault(_bisect);_constant=babelHelpers.interopRequireDefault(_constant);_extent=babelHelpers.interopRequireDefault(_extent);_identity=babelHelpers.interopRequireDefault(_identity);_ticks=babelHelpers.interopRequireDefault(_ticks);_sturges=babelHelpers.interopRequireDefault(_sturges);function _default(){var value=_identity.default,domain=_extent.default,threshold=_sturges.default;function histogram(data){var i,n=data.length,x,values=Array(n);for(i=0;i<n;++i){values[i]=value(data[i],i,data)}var xz=domain(values),x0=xz[0],x1=xz[1],tz=threshold(values,x0,x1);if(!Array.isArray(tz))tz=(0,_ticks.default)(x0,x1,tz);var m=tz.length;while(tz[0]<=x0)tz.shift(),--m;while(tz[m-1]>=x1)tz.pop(),--m;var bins=Array(m+1),bin;for(i=0;i<=m;++i){bin=bins[i]=[];bin.x0=0<i?tz[i-1]:x0;bin.x1=i<m?tz[i]:x1}for(i=0;i<n;++i){x=values[i];if(x0<=x&&x<=x1){bins[(0,_bisect.default)(tz,x,0,m)].push(data[i])}}return bins}histogram.value=function(_){return arguments.length?(value="function"===typeof _?_:(0,_constant.default)(_),histogram):value};histogram.domain=function(_){return arguments.length?(domain="function"===typeof _?_:(0,_constant.default)([_[0],_[1]]),histogram):domain};histogram.thresholds=function(_){return arguments.length?(threshold="function"===typeof _?_:Array.isArray(_)?(0,_constant.default)(_array.slice.call(_)):(0,_constant.default)(_),histogram):threshold};return histogram}});