define(["exports","./define.js","./color.js","./math.js"],function(_exports,_define,_color,_math){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=cubehelix;_exports.Cubehelix=Cubehelix;_define=babelHelpers.interopRequireWildcard(_define);var _Mathpow=Math.pow,A=-.14861,B=+1.78277,C=-.29227,D=-.90649,E=+1.97294,ED=E*D,EB=E*B,BC_DA=B*C-D*A;function cubehelixConvert(o){if(o instanceof Cubehelix)return new Cubehelix(o.h,o.s,o.l,o.opacity);if(!(o instanceof _color.Rgb))o=(0,_color.rgbConvert)(o);var r=o.r/255,g=o.g/255,b=o.b/255,l=(BC_DA*b+ED*r-EB*g)/(BC_DA+ED-EB),bl=b-l,k=(E*(g-l)-C*bl)/D,s=Math.sqrt(k*k+bl*bl)/(E*l*(1-l)),h=s?Math.atan2(k,bl)*_math.rad2deg-120:NaN;return new Cubehelix(0>h?h+360:h,s,l,o.opacity)}function cubehelix(h,s,l,opacity){return 1===arguments.length?cubehelixConvert(h):new Cubehelix(h,s,l,null==opacity?1:opacity)}function Cubehelix(h,s,l,opacity){this.h=+h;this.s=+s;this.l=+l;this.opacity=+opacity}(0,_define.default)(Cubehelix,cubehelix,(0,_define.extend)(_color.Color,{brighter:function(k){k=null==k?_color.brighter:_Mathpow(_color.brighter,k);return new Cubehelix(this.h,this.s,this.l*k,this.opacity)},darker:function(k){k=null==k?_color.darker:_Mathpow(_color.darker,k);return new Cubehelix(this.h,this.s,this.l*k,this.opacity)},rgb:function(){var h=isNaN(this.h)?0:(this.h+120)*_math.deg2rad,l=+this.l,a=isNaN(this.s)?0:this.s*l*(1-l),cosh=Math.cos(h),sinh=Math.sin(h);return new _color.Rgb(255*(l+a*(A*cosh+B*sinh)),255*(l+a*(C*cosh+D*sinh)),255*(l+a*(E*cosh)),this.opacity)}}))});