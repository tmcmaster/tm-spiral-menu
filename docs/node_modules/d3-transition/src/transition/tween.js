define(["exports","./schedule.js"],function(_exports,_schedule){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=function(name,value){var id=this._id;name+="";if(2>arguments.length){for(var tween=(0,_schedule.get)(this.node(),id).tween,i=0,n=tween.length,t;i<n;++i){if((t=tween[i]).name===name){return t.value}}return null}return this.each((null==value?tweenRemove:tweenFunction)(id,name,value))};_exports.tweenValue=function(transition,name,value){var id=transition._id;transition.each(function(){var schedule=(0,_schedule.set)(this,id);(schedule.value||(schedule.value={}))[name]=value.apply(this,arguments)});return function(node){return(0,_schedule.get)(node,id).value[name]}};function tweenRemove(id,name){var tween0,tween1;return function(){var schedule=(0,_schedule.set)(this,id),tween=schedule.tween;if(tween!==tween0){tween1=tween0=tween;for(var i=0,n=tween1.length;i<n;++i){if(tween1[i].name===name){tween1=tween1.slice();tween1.splice(i,1);break}}}schedule.tween=tween1}}function tweenFunction(id,name,value){var tween0,tween1;if("function"!==typeof value)throw new Error;return function(){var schedule=(0,_schedule.set)(this,id),tween=schedule.tween;if(tween!==tween0){tween1=(tween0=tween).slice();for(var t={name:name,value:value},i=0,n=tween1.length;i<n;++i){if(tween1[i].name===name){tween1[i]=t;break}}if(i===n)tween1.push(t)}schedule.tween=tween1}}});