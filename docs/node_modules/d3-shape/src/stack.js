define(["exports","./array.js","./constant.js","./offset/none.js","./order/none.js"],function(_exports,_array,_constant,_none,_none2){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=_default;_constant=babelHelpers.interopRequireDefault(_constant);_none=babelHelpers.interopRequireDefault(_none);_none2=babelHelpers.interopRequireDefault(_none2);function stackValue(d,key){return d[key]}function _default(){var keys=(0,_constant.default)([]),order=_none2.default,offset=_none.default,value=stackValue;function stack(data){var kz=keys.apply(this,arguments),i,m=data.length,n=kz.length,sz=Array(n),oz;for(i=0;i<n;++i){for(var ki=kz[i],si=sz[i]=Array(m),j=0,sij;j<m;++j){si[j]=sij=[0,+value(data[j],ki,j,data)];sij.data=data[j]}si.key=ki}for(i=0,oz=order(sz);i<n;++i){sz[oz[i]].index=i}offset(sz,oz);return sz}stack.keys=function(_){return arguments.length?(keys="function"===typeof _?_:(0,_constant.default)(_array.slice.call(_)),stack):keys};stack.value=function(_){return arguments.length?(value="function"===typeof _?_:(0,_constant.default)(+_),stack):value};stack.order=function(_){return arguments.length?(order=null==_?_none2.default:"function"===typeof _?_:(0,_constant.default)(_array.slice.call(_)),stack):order};stack.offset=function(_){return arguments.length?(offset=null==_?_none.default:_,stack):offset};return stack}});