define(["exports","./constant.js","./descending.js","./identity.js","./math.js"],function(_exports,_constant,_descending,_identity,_math){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=_default;_constant=babelHelpers.interopRequireDefault(_constant);_descending=babelHelpers.interopRequireDefault(_descending);_identity=babelHelpers.interopRequireDefault(_identity);function _default(){var value=_identity.default,sortValues=_descending.default,sort=null,startAngle=(0,_constant.default)(0),endAngle=(0,_constant.default)(_math.tau),padAngle=(0,_constant.default)(0);function pie(data){var _Mathmin=Math.min,i,n=data.length,j,k,sum=0,index=Array(n),arcs=Array(n),a0=+startAngle.apply(this,arguments),da=_Mathmin(_math.tau,Math.max(-_math.tau,endAngle.apply(this,arguments)-a0)),a1,p=_Mathmin(Math.abs(da)/n,padAngle.apply(this,arguments)),pa=p*(0>da?-1:1),v;for(i=0;i<n;++i){if(0<(v=arcs[index[i]=i]=+value(data[i],i,data))){sum+=v}}if(null!=sortValues)index.sort(function(i,j){return sortValues(arcs[i],arcs[j])});else if(null!=sort)index.sort(function(i,j){return sort(data[i],data[j])});for(i=0,k=sum?(da-n*pa)/sum:0;i<n;++i,a0=a1){j=index[i],v=arcs[j],a1=a0+(0<v?v*k:0)+pa,arcs[j]={data:data[j],index:i,value:v,startAngle:a0,endAngle:a1,padAngle:p}}return arcs}pie.value=function(_){return arguments.length?(value="function"===typeof _?_:(0,_constant.default)(+_),pie):value};pie.sortValues=function(_){return arguments.length?(sortValues=_,sort=null,pie):sortValues};pie.sort=function(_){return arguments.length?(sort=_,sortValues=null,pie):sort};pie.startAngle=function(_){return arguments.length?(startAngle="function"===typeof _?_:(0,_constant.default)(+_),pie):startAngle};pie.endAngle=function(_){return arguments.length?(endAngle="function"===typeof _?_:(0,_constant.default)(+_),pie):endAngle};pie.padAngle=function(_){return arguments.length?(padAngle="function"===typeof _?_:(0,_constant.default)(+_),pie):padAngle};return pie}});