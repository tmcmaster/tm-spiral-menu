define(["exports","../../d3-array/index.js","../../d3-format/index.js"],function(_exports,_index,_index2){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=function(domain,count,specifier){var _Mathmax=Math.max,_Mathabs=Math.abs,start=domain[0],stop=domain[domain.length-1],step=(0,_index.tickStep)(start,stop,null==count?10:count),precision;specifier=(0,_index2.formatSpecifier)(null==specifier?",f":specifier);switch(specifier.type){case"s":{var value=_Mathmax(_Mathabs(start),_Mathabs(stop));if(null==specifier.precision&&!isNaN(precision=(0,_index2.precisionPrefix)(step,value)))specifier.precision=precision;return(0,_index2.formatPrefix)(specifier,value)}case"":case"e":case"g":case"p":case"r":{if(null==specifier.precision&&!isNaN(precision=(0,_index2.precisionRound)(step,_Mathmax(_Mathabs(start),_Mathabs(stop)))))specifier.precision=precision-("e"===specifier.type);break}case"f":case"%":{if(null==specifier.precision&&!isNaN(precision=(0,_index2.precisionFixed)(step)))specifier.precision=precision-2*("%"===specifier.type);break}}return(0,_index2.format)(specifier)}});