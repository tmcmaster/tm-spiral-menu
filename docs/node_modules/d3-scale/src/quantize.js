define(["exports","../../d3-array/index.js","./array.js","./linear.js"],function(_exports,_index,_array,_linear){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=quantize;function quantize(){var x0=0,x1=1,n=1,domain=[.5],range=[0,1];function scale(x){if(x<=x)return range[(0,_index.bisect)(domain,x,0,n)]}function rescale(){var i=-1;domain=Array(n);while(++i<n)domain[i]=((i+1)*x1-(i-n)*x0)/(n+1);return scale}scale.domain=function(_){return arguments.length?(x0=+_[0],x1=+_[1],rescale()):[x0,x1]};scale.range=function(_){return arguments.length?(n=(range=_array.slice.call(_)).length-1,rescale()):range.slice()};scale.invertExtent=function(y){var i=range.indexOf(y);return 0>i?[NaN,NaN]:1>i?[x0,domain[0]]:i>=n?[domain[n-1],x1]:[domain[i-1],domain[i]]};scale.copy=function(){return quantize().domain([x0,x1]).range(range)};return(0,_linear.linearish)(scale)}});