define(["exports","../../d3-array/index.js","./array.js"],function(_exports,_index,_array){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=quantile;function quantile(){var domain=[],range=[],thresholds=[];function rescale(){var i=0,n=Math.max(1,range.length);thresholds=Array(n-1);while(++i<n)thresholds[i-1]=(0,_index.quantile)(domain,i/n);return scale}function scale(x){if(!isNaN(x=+x))return range[(0,_index.bisect)(thresholds,x)]}scale.invertExtent=function(y){var i=range.indexOf(y);return 0>i?[NaN,NaN]:[0<i?thresholds[i-1]:domain[0],i<thresholds.length?thresholds[i]:domain[domain.length-1]]};scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[];for(var i=0,n=_.length,d;i<n;++i)if(d=_[i],null!=d&&!isNaN(d=+d))domain.push(d);domain.sort(_index.ascending);return rescale()};scale.range=function(_){return arguments.length?(range=_array.slice.call(_),rescale()):range.slice()};scale.quantiles=function(){return thresholds.slice()};scale.copy=function(){return quantile().domain(domain).range(range)};return scale}});